{"version":3,"sources":["webpack:///./src/views/demo2.vue?9058","webpack:///./src/views/demo2.vue?f9ea","webpack:///src/views/demo2.vue","webpack:///./src/views/demo2.vue?1747","webpack:///./src/views/demo2.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_demo2_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_demo2_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","icon","on","click","randomSelect","_v","active","_e","style","opacity","isFetching","randomData","dataSource","grid","gutter","column","scopedSlots","_u","key","fn","item","id","getItem","staticRenderFns","randomRange","length","range","Array","from","Math","floor","random","ListItem","Item","demo2vue_type_script_lang_js_","name","mixins","logger","data","sourceData","randoms","level","props","limitNumber","Number","components","AButton","es_button","ASkeleton","skeleton","AList","list","AListItem","shop-card","Card","computed","_this","seal","map","_ref","poiId","title","frontImg","avgPrice","address","img","filter","index","includes","methods","fetchData","_fetchData","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","Promise","resolve","main","getPoiList","poiInfos","stop","apply","arguments","asyncToggleFetching","_asyncToggleFetching","_callee2","_this2","_context2","_randomSelect","_callee3","_context3","sent","views_demo2vue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-6ed0d49b.78c98819.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo2.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo2.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('a-button',{attrs:{\"icon\":\"smile\"},on:{\"click\":_vm.randomSelect}},[_vm._v(\"中午吃点啥？我帮你选\")]),(_vm.isFetching)?_c('a-skeleton',{attrs:{\"active\":\"\"}}):_vm._e(),_c('div',{staticClass:\"content\",style:({\n            opacity: _vm.isFetching ? 0 : 1\n        })},[(!_vm.randomData)?_c('span',{staticClass:\"guide\"},[_c('span',[_vm._v(\"真\")]),_c('span',[_vm._v(\"香\")])]):_c('a-list',{attrs:{\"dataSource\":_vm.randomData,\"grid\":{ gutter: 16, column: 3 }},scopedSlots:_vm._u([{key:\"renderItem\",fn:function(item){return _c('a-list-item',{key:item.id},[_c('shop-card',{attrs:{\"item\":_vm.getItem(item)}})],1)}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"container\">\n        <a-button icon=\"smile\" @click=\"randomSelect\">中午吃点啥？我帮你选</a-button>\n        <a-skeleton v-if=\"isFetching\" active />\n        <div \n            class=\"content\" \n            :style=\"{\n                opacity: isFetching ? 0 : 1\n            }\"\n        >\n            <span v-if=\"!randomData\" class=\"guide\">\n                <span>真</span>\n                <span>香</span>\n            </span>\n            <a-list \n                v-else \n                :dataSource=\"randomData\" \n                :grid=\"{ gutter: 16, column: 3 }\" \n            >\n                <a-list-item slot=\"renderItem\" slot-scope=\"item\" :key=\"item.id\">\n                    <shop-card :item=\"getItem(item)\" />\n                </a-list-item>\n            </a-list>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { Button, Skeleton, List } from 'ant-design-vue';\nimport Card from '../components/Card'\nimport logger from '../mixins/logger'\nimport mockData from '../mock/getPoiList'\nimport { setTimeout } from 'timers';\n\nconst randomRange = (length, range) => Array.from({ length }, () => Math.floor(Math.random() * range))\nconst { Item: ListItem } = List\n\nexport default {\n    name: 'Parent',\n    mixins: [logger],\n    data() {\n        return {\n            sourceData: null,\n            isFetching: false,\n            randoms: null,\n            level: 1,\n        }\n    },\n    props: {\n        limitNumber: Number\n    },\n    components: {\n        AButton: Button,\n        ASkeleton: Skeleton,\n        AList: List,\n        AListItem: ListItem,\n        'shop-card': Card\n    },\n    // watch: {\n    //     sourceData(newVal) {\n    //         const { length } = newVal\n    //         this.randoms = randomRange(this.limitNumber, length)\n    //     }\n    // },\n    computed: {\n        randomData() {\n            if (!this.sourceData) return null\n            const { length } = this.sourceData\n            const seal = data => data.map(({ poiId, title, frontImg, avgPrice, address }) => ({\n                id: poiId,\n                title,\n                img: frontImg,\n                avgPrice,\n                address,\n            }))\n            if (length <= 3 ) return seal(this.sourceData)\n            return seal(this.sourceData.filter((item, index) => this.randoms.includes(index)))\n        }\n    },\n    methods: {\n        async fetchData() {\n            this.isFetching = true\n            return new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(mockData.data.poiInfos || [])\n                }, 1000)\n            })\n        },\n        async asyncToggleFetching() {\n            return new Promise(resolve => {\n                setTimeout(() =>  resolve(!this.isFetching), 500)\n            })\n        },\n        async randomSelect() {\n            this.sourceData = await this.fetchData()\n            const { length } = this.sourceData\n            this.randoms = randomRange(this.limitNumber, length)\n            this.isFetching = await this.asyncToggleFetching()\n        },\n        getItem(item) {\n            return item\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n    .container {\n        padding: 0 40px 40px;\n\n        .content {\n            min-height: 150px;\n            \n            .guide {\n                font-size: 30px;\n                font-weight: bold;\n\n                >span {\n                    padding: 10px;\n                }\n\n                span:nth-of-type(1) {\n                    background: #1890ff;\n                    color: #fff;\n                    animation: fontAni 0.3s ease-in-out 0s 5 alternate;\n                }\n                span:nth-of-type(2) {\n                    animation: fontAniReverse 0.3s ease-in-out 0s 5 alternate;\n                }\n            }\n        }\n        .ant-skeleton,\n        .content {\n            margin-top: 60px;\n        }\n    }\n\n    @keyframes fontAni {\n        from {\n            background: #1890ff;\n            color: #fff;\n        }\n        to {\n            background: #fff;\n            color: #999\n        }\n    }\n    @keyframes fontAniReverse {\n        from {\n            background: #fff;\n            color: #999\n        }\n        to {\n            background: #1890ff;\n            color: #fff;\n        }\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./demo2.vue?vue&type=template&id=685f225e&\"\nimport script from \"./demo2.vue?vue&type=script&lang=js&\"\nexport * from \"./demo2.vue?vue&type=script&lang=js&\"\nimport style0 from \"./demo2.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}